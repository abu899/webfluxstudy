# Blocking vs Non-Blocking I/O

## Blocking I/O

- I/O 작업이 완료될 때까지 스레드가 블로킹되는 I/O 작업
  - 즉, 작업 스레드가 종료될 때 까지 요청한 스레드가 차단
- 이런 단점을 보완하기 위해 멀티 스레딩기법을 통해 추가 스레드를 할당
  - 하지만, CPU 대비 많은 스레드를 할당하는 것은 비효율적
  - 컨텍스트 스위칭으로 인한 스레드 전환 비용 발생
    - PCB(Process Control Block)에 상태를 저장하고 로드하는 과정에서 발생하는 시간과 유휴 시간(Idle Time) 발생이 일치하지 않음
    - PCB에 상태를 저장하고 로드하는 동안 CPU는 작업을 진행하지 못함
    - 컨텍스트 스위칭이 잦을 수록 성능이 저하
    - 스레드 역시 컨텍스트 스위칭이 발생
  - 메모리 사용에 있어서 오버헤드 발생
  - 스레드 풀에서의 응답 지연 문제 발생
    - 유휴 스레드가 없을 경우 응답 지연 시간이 길어짐
    - 반납된 스레드가 사용 가능하도록 전환하는 과정에서도 지연 발생

## Non-Blocking I/O

- I/O 작업이 완료될 때까지 스레드가 블로킹되지 않는 I/O 작업
  - 즉, 작업 스레드가 종료와 상관없이 요청한 스레드가 차단되지 않음
- 적은 수의 스레드를 사용하기 때문에 스위칭 비용이 적게 발생
  - CPU 대기시간 및 사용량에 있어서 효율적
- 하지만, CPU를 많이 사용하는 작업에 있어서는 성능에 악영향
- 사용자 요청에서 응답 중 Blocking I/O 요청이 포함되어 있다면, Non-Blocking의 이점을 발휘하기 어려움
